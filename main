#include <stdio.h>
#include <stdlib.h>
//#include //"ABB.h"
#include "lso.h"
//#include //"lsobb.h"

void precarga(Prestador LSO[]){
    inicializarLSO(LSO);
    int opcion=0, exito=0, DNI, prestadorescargados=0;
    Prestador aux;
FILE *fp=fopen("Operaciones.txt", "r");
if(fp==NULL){
    printf("No se puede abrir el archivo \n");
    exit(1);
}

    while (!feof(fp)) {
    fscanf(fp, "%d", &opcion);
        switch(opcion){
        case 1:
        if (prestadorescargados==MAXPRESTADORES){
                            break;
                        }
         fscanf(fp, "%d\n%[^\n]\n%[^\n]\n%[^\n]\n%[^\n]\n%[^\n]\n",
                                                              &aux.DNI, aux.nombreyapellido, aux.servicios,
                                                              aux.domicilio, aux.correo, aux.telefono);
                                                              LSO_Alta(LSO, aux, &exito);

                    if (exito == 1) {
                        prestadorescargados++;
                         printf("prestadores cargados: %d \n", prestadorescargados);
                    }

            break;

        case 2:    fscanf(fp, "%d \n", &DNI);
                   LSO_Evocar(LSO, &aux, DNI, &exito);
                   break;
        case 3:
            fscanf(fp, "%d \n", &DNI);
            LSO_Baja(LSO, DNI, &exito, aux);
            break;
        }
    }

 fclose(fp);
}
int main()
{
    int opcion;
    Prestador LSO[111], nuevop;
    do{
            printf("1: Comparar estructuras \n");
            printf("2: Mostrar: ABB \n");
            printf("3 Mostrar: LSO \n");
            printf("4: Mostrar: LSOBB \n");
            scanf("%d", &opcion);

        switch(opcion){
        case 1: precarga(LSO);
         if (LSO_Altas>0){
        LSO_medio_Alta=LSO_total_Alta/LSO_Altas;
         printf("Coste medio de Alta: %f \n", LSO_medio_Alta);
        }

        printf("Coste maximo de Alta en LSO: %d \n", LSO_max_Alta);
        break;

        case 3: MostrarEstructura(LSO);
        break;

        }

    }while(opcion<=4);

}
